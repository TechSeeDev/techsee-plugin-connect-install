#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const save_config_stack_1 = require("../lib/save-config-stack");
const web_app_stack_1 = require("../lib/web-app-stack");
const constants_1 = require("../lib/constants");
const sso_stack_1 = require("../lib/sso-stack");
const app = new cdk.App();
// stack 1
const saveConfigStack = new save_config_stack_1.SaveConfigStack(app, constants_1.default.CONFIG_STACK, {});
// stack 2
const wepAppStack = new web_app_stack_1.WepAppStack(app, constants_1.default.WEB_APP_STACK, {});
// stack 3
new sso_stack_1.SsoStack(app, constants_1.default.SSO_STACK, {
    tscc_provisioning_api_url: saveConfigStack.tscc_provisioning_api_url,
    tscc_activation_api_url: saveConfigStack.tscc_activation_api_url,
    distributionDomainName: wepAppStack.distributionDomainName,
    bucketName: wepAppStack.Bucket,
    distribution_Id: wepAppStack.distributionId,
});
// stack 4 remove S3ToCloudFrontStack lamda 
// new S3ToCloudFrontStack(app, ResourceName.S3_CLOUDFRONT_STACK, {
//     distribution_Id: wepAppStack.distributionId,
//     domain_name: wepAppStack.distributionDomainName,
//     bucket_name: wepAppStack.Bucket
// });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUFxQztBQUNyQyxtQ0FBbUM7QUFDbkMsZ0VBQTJEO0FBQzNELHdEQUFtRDtBQUNuRCxnREFBNEM7QUFDNUMsZ0RBQTRDO0FBRzVDLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQzFCLFVBQVU7QUFDVixNQUFNLGVBQWUsR0FBRyxJQUFJLG1DQUFlLENBQUMsR0FBRyxFQUFFLG1CQUFZLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRWhGLFVBQVU7QUFDVixNQUFNLFdBQVcsR0FBRyxJQUFJLDJCQUFXLENBQUMsR0FBRyxFQUFFLG1CQUFZLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRXpFLFVBQVU7QUFDVixJQUFJLG9CQUFRLENBQUMsR0FBRyxFQUFFLG1CQUFZLENBQUMsU0FBUyxFQUFFO0lBQ3RDLHlCQUF5QixFQUFFLGVBQWUsQ0FBQyx5QkFBeUI7SUFDcEUsdUJBQXVCLEVBQUUsZUFBZSxDQUFDLHVCQUF1QjtJQUNoRSxzQkFBc0IsRUFBRSxXQUFXLENBQUMsc0JBQXNCO0lBQzFELFVBQVUsRUFBRSxXQUFXLENBQUMsTUFBTTtJQUM5QixlQUFlLEVBQUUsV0FBVyxDQUFDLGNBQWM7Q0FDOUMsQ0FBQyxDQUFDO0FBRUgsNENBQTRDO0FBQzVDLG1FQUFtRTtBQUNuRSxtREFBbUQ7QUFDbkQsdURBQXVEO0FBQ3ZELHNDQUFzQztBQUN0QyxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxyXG5pbXBvcnQgXCJzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXJcIjtcclxuaW1wb3J0ICogYXMgY2RrIGZyb20gXCJhd3MtY2RrLWxpYlwiO1xyXG5pbXBvcnQgeyBTYXZlQ29uZmlnU3RhY2sgfSBmcm9tIFwiLi4vbGliL3NhdmUtY29uZmlnLXN0YWNrXCI7XHJcbmltcG9ydCB7IFdlcEFwcFN0YWNrIH0gZnJvbSBcIi4uL2xpYi93ZWItYXBwLXN0YWNrXCI7XHJcbmltcG9ydCBSZXNvdXJjZU5hbWUgZnJvbSBcIi4uL2xpYi9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgU3NvU3RhY2sgfSBmcm9tIFwiLi4vbGliL3Nzby1zdGFja1wiO1xyXG5pbXBvcnQgeyBTM1RvQ2xvdWRGcm9udFN0YWNrIH0gZnJvbSBcIi4uL2xpYi9zMy1jbG91ZEZyb250LXN0YWNrXCI7XHJcblxyXG5jb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xyXG4vLyBzdGFjayAxXHJcbmNvbnN0IHNhdmVDb25maWdTdGFjayA9IG5ldyBTYXZlQ29uZmlnU3RhY2soYXBwLCBSZXNvdXJjZU5hbWUuQ09ORklHX1NUQUNLLCB7fSk7XHJcblxyXG4vLyBzdGFjayAyXHJcbmNvbnN0IHdlcEFwcFN0YWNrID0gbmV3IFdlcEFwcFN0YWNrKGFwcCwgUmVzb3VyY2VOYW1lLldFQl9BUFBfU1RBQ0ssIHt9KTtcclxuXHJcbi8vIHN0YWNrIDNcclxubmV3IFNzb1N0YWNrKGFwcCwgUmVzb3VyY2VOYW1lLlNTT19TVEFDSywge1xyXG4gICAgdHNjY19wcm92aXNpb25pbmdfYXBpX3VybDogc2F2ZUNvbmZpZ1N0YWNrLnRzY2NfcHJvdmlzaW9uaW5nX2FwaV91cmwsXHJcbiAgICB0c2NjX2FjdGl2YXRpb25fYXBpX3VybDogc2F2ZUNvbmZpZ1N0YWNrLnRzY2NfYWN0aXZhdGlvbl9hcGlfdXJsLFxyXG4gICAgZGlzdHJpYnV0aW9uRG9tYWluTmFtZTogd2VwQXBwU3RhY2suZGlzdHJpYnV0aW9uRG9tYWluTmFtZSxcclxuICAgIGJ1Y2tldE5hbWU6IHdlcEFwcFN0YWNrLkJ1Y2tldCxcclxuICAgIGRpc3RyaWJ1dGlvbl9JZDogd2VwQXBwU3RhY2suZGlzdHJpYnV0aW9uSWQsXHJcbn0pO1xyXG5cclxuLy8gc3RhY2sgNCByZW1vdmUgUzNUb0Nsb3VkRnJvbnRTdGFjayBsYW1kYSBcclxuLy8gbmV3IFMzVG9DbG91ZEZyb250U3RhY2soYXBwLCBSZXNvdXJjZU5hbWUuUzNfQ0xPVURGUk9OVF9TVEFDSywge1xyXG4vLyAgICAgZGlzdHJpYnV0aW9uX0lkOiB3ZXBBcHBTdGFjay5kaXN0cmlidXRpb25JZCxcclxuLy8gICAgIGRvbWFpbl9uYW1lOiB3ZXBBcHBTdGFjay5kaXN0cmlidXRpb25Eb21haW5OYW1lLFxyXG4vLyAgICAgYnVja2V0X25hbWU6IHdlcEFwcFN0YWNrLkJ1Y2tldFxyXG4vLyB9KTtcclxuIl19