#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const save_config_stack_1 = require("../lib/save-config-stack");
const web_app_stack_1 = require("../lib/web-app-stack");
const constants_1 = require("../lib/constants");
const sso_stack_1 = require("../lib/sso-stack");
const s3_cloudFront_stack_1 = require("../lib/s3-cloudFront-stack");
const app = new cdk.App();
// stack 1
const saveConfigStack = new save_config_stack_1.SaveConfigStack(app, constants_1.default.CONFIG_STACK, {});
// stack 2
const wepAppStack = new web_app_stack_1.WepAppStack(app, constants_1.default.WEB_APP_STACK, {});
// stack 3
new sso_stack_1.SsoStack(app, constants_1.default.SSO_STACK, {
    tscc_provisioning_api_url: saveConfigStack.tscc_provisioning_api_url,
    tscc_activation_api_url: saveConfigStack.tscc_activation_api_url,
    distributionDomainName: wepAppStack.distributionDomainName,
    bucketName: wepAppStack.Bucket
});
new s3_cloudFront_stack_1.S3ToCloudFrontStack(app, constants_1.default.S3_CLOUDFRONT_STACK, {
    distribution_Id: wepAppStack.distributionId,
    domain_name: wepAppStack.distributionDomainName,
    bucket_name: wepAppStack.Bucket
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUFxQztBQUNyQyxtQ0FBbUM7QUFDbkMsZ0VBQTJEO0FBQzNELHdEQUFtRDtBQUNuRCxnREFBNEM7QUFDNUMsZ0RBQTRDO0FBQzVDLG9FQUFpRTtBQUVqRSxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUMxQixVQUFVO0FBQ1YsTUFBTSxlQUFlLEdBQUcsSUFBSSxtQ0FBZSxDQUFDLEdBQUcsRUFBRSxtQkFBWSxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVoRixVQUFVO0FBQ1YsTUFBTSxXQUFXLEdBQUcsSUFBSSwyQkFBVyxDQUFDLEdBQUcsRUFBRSxtQkFBWSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUV6RSxVQUFVO0FBQ1YsSUFBSSxvQkFBUSxDQUFDLEdBQUcsRUFBRSxtQkFBWSxDQUFDLFNBQVMsRUFBRTtJQUN0Qyx5QkFBeUIsRUFBRSxlQUFlLENBQUMseUJBQXlCO0lBQ3BFLHVCQUF1QixFQUFFLGVBQWUsQ0FBQyx1QkFBdUI7SUFDaEUsc0JBQXNCLEVBQUUsV0FBVyxDQUFDLHNCQUFzQjtJQUMxRCxVQUFVLEVBQUUsV0FBVyxDQUFDLE1BQU07Q0FDakMsQ0FBQyxDQUFDO0FBR0gsSUFBSSx5Q0FBbUIsQ0FBQyxHQUFHLEVBQUUsbUJBQVksQ0FBQyxtQkFBbUIsRUFBRTtJQUMzRCxlQUFlLEVBQUUsV0FBVyxDQUFDLGNBQWM7SUFDM0MsV0FBVyxFQUFFLFdBQVcsQ0FBQyxzQkFBc0I7SUFDL0MsV0FBVyxFQUFFLFdBQVcsQ0FBQyxNQUFNO0NBQ2xDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIiMhL3Vzci9iaW4vZW52IG5vZGVcclxuaW1wb3J0IFwic291cmNlLW1hcC1zdXBwb3J0L3JlZ2lzdGVyXCI7XHJcbmltcG9ydCAqIGFzIGNkayBmcm9tIFwiYXdzLWNkay1saWJcIjtcclxuaW1wb3J0IHsgU2F2ZUNvbmZpZ1N0YWNrIH0gZnJvbSBcIi4uL2xpYi9zYXZlLWNvbmZpZy1zdGFja1wiO1xyXG5pbXBvcnQgeyBXZXBBcHBTdGFjayB9IGZyb20gXCIuLi9saWIvd2ViLWFwcC1zdGFja1wiO1xyXG5pbXBvcnQgUmVzb3VyY2VOYW1lIGZyb20gXCIuLi9saWIvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IFNzb1N0YWNrIH0gZnJvbSBcIi4uL2xpYi9zc28tc3RhY2tcIjtcclxuaW1wb3J0IHsgUzNUb0Nsb3VkRnJvbnRTdGFjayB9IGZyb20gXCIuLi9saWIvczMtY2xvdWRGcm9udC1zdGFja1wiO1xyXG5cclxuY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcclxuLy8gc3RhY2sgMVxyXG5jb25zdCBzYXZlQ29uZmlnU3RhY2sgPSBuZXcgU2F2ZUNvbmZpZ1N0YWNrKGFwcCwgUmVzb3VyY2VOYW1lLkNPTkZJR19TVEFDSywge30pO1xyXG5cclxuLy8gc3RhY2sgMlxyXG5jb25zdCB3ZXBBcHBTdGFjayA9IG5ldyBXZXBBcHBTdGFjayhhcHAsIFJlc291cmNlTmFtZS5XRUJfQVBQX1NUQUNLLCB7fSk7XHJcblxyXG4vLyBzdGFjayAzXHJcbm5ldyBTc29TdGFjayhhcHAsIFJlc291cmNlTmFtZS5TU09fU1RBQ0ssIHtcclxuICAgIHRzY2NfcHJvdmlzaW9uaW5nX2FwaV91cmw6IHNhdmVDb25maWdTdGFjay50c2NjX3Byb3Zpc2lvbmluZ19hcGlfdXJsLFxyXG4gICAgdHNjY19hY3RpdmF0aW9uX2FwaV91cmw6IHNhdmVDb25maWdTdGFjay50c2NjX2FjdGl2YXRpb25fYXBpX3VybCxcclxuICAgIGRpc3RyaWJ1dGlvbkRvbWFpbk5hbWU6IHdlcEFwcFN0YWNrLmRpc3RyaWJ1dGlvbkRvbWFpbk5hbWUsXHJcbiAgICBidWNrZXROYW1lOiB3ZXBBcHBTdGFjay5CdWNrZXRcclxufSk7XHJcblxyXG5cclxubmV3IFMzVG9DbG91ZEZyb250U3RhY2soYXBwLCBSZXNvdXJjZU5hbWUuUzNfQ0xPVURGUk9OVF9TVEFDSywge1xyXG4gICAgZGlzdHJpYnV0aW9uX0lkOiB3ZXBBcHBTdGFjay5kaXN0cmlidXRpb25JZCxcclxuICAgIGRvbWFpbl9uYW1lOiB3ZXBBcHBTdGFjay5kaXN0cmlidXRpb25Eb21haW5OYW1lLFxyXG4gICAgYnVja2V0X25hbWU6IHdlcEFwcFN0YWNrLkJ1Y2tldFxyXG59KTtcclxuIl19